{% extends "base_dashboard.html" %}

{% block title %}Settings - MisMatch{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">
{% endblock %}

{% block content %}
<div class="settings-container">

    <h2>User Settings</h2>

    {% if error %}
    <p class="settings-error">{{ error }}</p>
    {% endif %}

    {% if success %}
    <p class="settings-success">{{ success }}</p>
    {% endif %}

    <div class="settings-sections">
        <div class="settings-section">
            <h3>Change Username</h3>
            <form method="POST">
                <input type="hidden" name="action" value="change_username">
                <input type="text" name="new_username" placeholder="New username" required>
                <button type="submit">Update Username</button>
            </form>
        </div>

        <div class="settings-section">
            <h3>Change Password</h3>
            <form method="POST">
                <input type="hidden" name="action" value="change_password">
                <input type="password" name="old_password" placeholder="Old password" required>
                <input type="password" name="new_password" placeholder="New password" required>
                <button type="submit">Update Password</button>
            </form>
        </div>

        <div class="settings-section">
            <h3>Choose your Avatar</h3>
            <form method="POST">
                <input type="hidden" name="action" value="change_avatar">

                <div class="avatar-grid">
                    {% for a in ["ğŸ™‚","ğŸ˜","ğŸ¤“","ğŸ§‘","ğŸ‘©","ğŸ‘½","ğŸ¸","ğŸ±"] %}
                    <label class="avatar-option">
                        <input type="radio" name="avatar" value="{{ a }}"
                            {% if avatar == a %}checked{% endif %}>
                        <span class="avatar">{{ a }}</span>
                    </label>
                    {% endfor %}
                </div>

                <button type="submit">Save Avatar</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}